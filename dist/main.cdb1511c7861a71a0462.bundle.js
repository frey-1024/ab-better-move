(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1211:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80);module._StorybookPreserveDecorators=!0,Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)([__webpack_require__(1212)],module)}.call(this,__webpack_require__(379)(module))},1212:function(module,exports,__webpack_require__){var map={"./index.stories.js":1215};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1212},1215:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var utils=__webpack_require__(394),inheritsLoose=__webpack_require__(56),inheritsLoose_default=__webpack_require__.n(inheritsLoose),react=__webpack_require__(0),react_default=__webpack_require__.n(react),dist=__webpack_require__(68),react_is=__webpack_require__(103),classnames=__webpack_require__(395),classnames_default=__webpack_require__.n(classnames),react_dom=__webpack_require__(93),react_dom_default=__webpack_require__.n(react_dom);function addEventListener(target,eventType,cb,option){return function addDOMEventListener(target,eventType,callback,option){if(target.addEventListener){var useCapture_1=!1;return"object"==typeof option?useCapture_1=option.capture||!1:"boolean"==typeof option&&(useCapture_1=option),target.addEventListener(eventType,callback,option||!1),{remove:function(){target.removeEventListener(eventType,callback,useCapture_1)}}}}(target,eventType,react_dom_default.a.unstable_batchedUpdates?function run(e){react_dom_default.a.unstable_batchedUpdates(cb,e)}:cb,option)}function getDistance(start,end){return Math.sqrt(Math.pow(end.x-start.x,2)+Math.pow(end.y-start.y,2))}function getElementSize(elem,isRemoveBorder){return isRemoveBorder?{width:elem.clientWidth,height:elem.clientHeight}:{width:elem.offsetWidth,height:elem.offsetHeight}}function isTouchScreen(){return"ontouchstart"in document.documentElement}var requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame;var extendStatics,__extends=(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},defaultPosition={x:0,y:0},src=function(_super){function Move(props){var _this=_super.call(this,props)||this;return _this.prefixCls="ab-move",_this.prevElementSize={width:0,height:0},_this.elementSize={width:0,height:0},_this.elementParentSize={width:0,height:0},_this.startObj=__assign({},defaultPosition),_this.prevObj=__assign({},defaultPosition),_this.currentObj=__assign({},defaultPosition),_this.moveObj=__assign({},defaultPosition),_this.prevScaleSize=1,_this.currentScaleSize=1,_this.scaleStart=0,_this.scaleEnd=0,_this.isTouchScale=!1,_this.isForceUpdatePlacement=!1,_this.moveRef=react_default.a.createRef(),_this.updateTimer=null,_this.refreshInfo=function(el,prevProps){var element=el||_this.getDomNode();if(element){var parentNode=element.parentNode;if(parentNode){var elementSize=getElementSize(element);_this.elementSize={width:_this.currentScaleSize*elementSize.width,height:_this.currentScaleSize*elementSize.height},_this.elementSize.width===_this.prevElementSize.width&&_this.elementSize.height===_this.prevElementSize.height||(_this.isForceUpdatePlacement=!0),_this.prevElementSize=_this.elementSize,_this.elementParentSize=getElementSize(parentNode,!0);var _a=_this.props,horizontalPlacement=_a.horizontalPlacement,verticalPlacement=_a.verticalPlacement;if(!prevProps||_this.isForceUpdatePlacement||horizontalPlacement!==prevProps.horizontalPlacement||verticalPlacement!==prevProps.verticalPlacement){_this.currentObj=function getInitElementPlacement(_a){var elementSize=_a.elementSize,elementParentSize=_a.elementParentSize,horizontalPlacement=_a.horizontalPlacement,verticalPlacement=_a.verticalPlacement,translateX=0,translateY=0;switch(horizontalPlacement){case"center":translateX=(elementParentSize.width-elementSize.width)/2;break;case"right":translateX=elementParentSize.width-elementSize.width;break;default:translateX=0}switch(verticalPlacement){case"center":translateY=(elementParentSize.height-elementSize.height)/2;break;case"bottom":translateY=elementParentSize.height-elementSize.height;break;default:translateY=0}return{x:translateX,y:translateY}}({horizontalPlacement:horizontalPlacement,verticalPlacement:verticalPlacement,elementSize:_this.elementSize,elementParentSize:_this.elementParentSize});var _b=_this.checkRange(),nextScaleSize=_b.nextScaleSize,nextX=_b.nextX,nextY=_b.nextY;_this.currentObj={x:nextX,y:nextY},_this.currentScaleSize=nextScaleSize,_this.setElementInfo(element),element.style.visibility="visible",_this.isForceUpdatePlacement=!1}}}},_this.onStart=function(event,element){event.preventDefault&&event.preventDefault(),event.stopPropagation&&event.stopPropagation(),_this.isTouchScale=!1,element.style.transition="";var scalable=_this.props.scalable,isTouch=isTouchScreen();_this.prevScaleSize=_this.currentScaleSize,scalable&&isTouch&&event.touches.length>1?(_this.isTouchScale=!0,_this.scaleStart=getDistance({x:event.touches[0].pageX,y:event.touches[0].pageY},{x:event.touches[1].pageX,y:event.touches[1].pageY})):(_this.moveObj=__assign({},defaultPosition),_this.prevObj=__assign({},_this.currentObj),_this.startObj={x:event.touches?event.touches[0].pageX:event.clientX,y:event.touches?event.touches[0].pageY:event.clientY}),_this.moveHandler=addEventListener(window.document,isTouch?"touchmove":"mousemove",(function(ev){return _this.onMove(ev,element)})),_this.endHandler=addEventListener(window.document,isTouch?"touchend":"mouseup",(function(ev){return _this.onEnd(ev,element)}))},_this.onMove=function(event,element){if(event.preventDefault&&event.preventDefault(),event.stopPropagation&&event.stopPropagation(),_this.isTouchScale&&event.touches.length>1)return _this.scaleEnd=getDistance({x:event.touches[0].pageX,y:event.touches[0].pageY},{x:event.touches[1].pageX,y:event.touches[1].pageY}),_this.currentScaleSize=(_this.scaleEnd/_this.scaleStart-1)/2+_this.prevScaleSize,void _this.setElementInfo(element);_this.isTouchScale&&event.touches.length<=1||(_this.moveObj={x:event.touches?event.touches[0].pageX:event.clientX,y:event.touches?event.touches[0].pageY:event.clientY},_this.currentObj={x:_this.prevObj.x+_this.moveObj.x-_this.startObj.x,y:_this.prevObj.y+_this.moveObj.y-_this.startObj.y},_this.setElementInfo(element))},_this.onEnd=function(event,element){event.preventDefault&&event.preventDefault(),event.stopPropagation&&event.stopPropagation(),_this.clearHandler();var _a=_this.checkRange(),nextX=_a.nextX,nextY=_a.nextY,nextScaleSize=_a.nextScaleSize;_a.isRefresh&&(element.style.transition="transform 200ms ease-in-out",_this.currentObj={x:nextX,y:nextY},_this.currentScaleSize=nextScaleSize,_this.setElementInfo(element))},_this.onTransitionEnd=function(){var element=_this.getDomNode();if(element){element.style.transition="";var _a=_this.props,onAfterChange=_a.onAfterChange,name=_a.name;onAfterChange&&onAfterChange(name)}},_this}return __extends(Move,_super),Move.prototype.componentDidMount=function(){this.isForceUpdatePlacement=!0,this.componentDidUpdate()},Move.prototype.componentDidUpdate=function(prevProps){var _this=this;clearTimeout(this.updateTimer);var element=this.getDomNode();if(element){var parentNode=element.parentNode;if(parentNode){parentNode.style.overflow="hidden";var _a=this.props,horizontalPlacement=_a.horizontalPlacement,verticalPlacement=_a.verticalPlacement;!prevProps||horizontalPlacement===prevProps.horizontalPlacement&&verticalPlacement===prevProps.verticalPlacement||(this.isForceUpdatePlacement=!0),this.updateTimer=setTimeout((function(){if(_this.refreshInfo(element,prevProps),!_this.startHandler){var eventType=isTouchScreen()?"touchstart":"mousedown";_this.startHandler=addEventListener(element,eventType,(function(ev){return _this.onStart(ev,element)}))}_this.props.monitorWindowResize&&!_this.resizeHandler&&(_this.resizeHandler=addEventListener(window,"resize",function throttleWithRAF(fn){var callback,ticking=!1,update=function(){for(var arg=[],_i=0;_i<arguments.length;_i++)arg[_i]=arguments[_i];fn.apply(void 0,arg),ticking=!1};return function(){for(var arg=[],_i=0;_i<arguments.length;_i++)arg[_i]=arguments[_i];ticking||requestAnimationFrame(callback=callback||function(){return update.apply(void 0,arg)}),ticking=!0}}((function(){return _this.refreshInfo(element,prevProps)}))))}),0),this.clearHandler()}}},Move.prototype.componentWillUnmount=function(){clearTimeout(this.updateTimer),this.clearHandler()},Move.prototype.clearHandler=function(){this.moveHandler&&(this.moveHandler.remove(),this.moveHandler=null),this.endHandler&&(this.endHandler.remove(),this.endHandler=null)},Move.prototype.checkRange=function(){var _a=this.currentObj,x=_a.x,y=_a.y,_b=this.elementSize,width=_b.width,height=_b.height,pSize=this.elementParentSize,nextX=x,nextY=y;pSize.width>=width?x<0?nextX=0:x+width>pSize.width&&(nextX=pSize.width-width):x>0?nextX=0:pSize.width>width+x&&(nextX=pSize.width-width),pSize.height>=height?y<0?nextY=0:y+height>pSize.height&&(nextY=pSize.height-height):y>0?nextY=0:pSize.height>height+y&&(nextY=pSize.height-height);var nextScaleSize=this.currentScaleSize;return this.props.scalable&&(this.currentScaleSize>this.props.maxScalable?nextScaleSize=this.props.maxScalable:this.currentScaleSize<this.props.minScalable&&(nextScaleSize=this.props.minScalable)),{isRefresh:nextX!==x||nextY!==y||nextScaleSize!==this.currentScaleSize,nextX:nextX,nextY:nextY,nextScaleSize:nextScaleSize}},Move.prototype.setElementInfo=function(element){var deviation=100*(1-1/this.currentScaleSize);element.style.transform="translate(calc("+this.currentObj.x+"px + "+deviation+"%), calc("+this.currentObj.y+"px + "+deviation+"%)) scale("+this.currentScaleSize+")";var _a=this.prevElementSize,width=_a.width,height=_a.height;this.elementSize={width:this.currentScaleSize*width,height:this.currentScaleSize*height}},Move.prototype.getDomNode=function(){return this.moveRef&&this.moveRef.current?this.moveRef.current:null},Move.prototype.render=function(){var children=this.props.children,child=react_default.a.Children.only(children);if(react_is.isElement(child)&&!react_is.isFragment(child))return react_default.a.cloneElement(child,{ref:this.moveRef,onTransitionEnd:this.onTransitionEnd,className:classnames_default()(this.prefixCls,child.props.className)});throw new Error("Move component only support HTMLElement!")},Move.defaultProps={scalable:!0,monitorWindowResize:!0,minScalable:1,maxScalable:2,horizontalPlacement:"left",verticalPlacement:"top"},Move}(react_default.a.Component),move_MoveData=function(_React$Component){function MoveData(){return _React$Component.apply(this,arguments)||this}return inheritsLoose_default()(MoveData,_React$Component),MoveData.prototype.render=function render(){return react_default.a.createElement("div",{className:"demo-move"},react_default.a.createElement(src,this.props,react_default.a.createElement("div",{className:"111",style:{width:"100px",height:"100px",backgroundColor:"#ccc"}},"1111")))},MoveData}(react_default.a.Component);function MoveDemo(){return react_default.a.createElement(move_MoveData,{scalable:Object(dist.boolean)("scalable",!0),monitorWindowResize:Object(dist.boolean)("monitorWindowResize",!0),minScalable:Object(dist.number)("minScalable",1),maxScalable:Object(dist.number)("maxScalable",2),horizontalPlacement:Object(dist.select)("horizontalPlacement",["left","center","right"],"left"),verticalPlacement:Object(dist.select)("verticalPlacement",["top","center","bottom"],"top")})}MoveDemo.displayName="MoveDemo";MoveDemo.__docgenInfo={description:"",methods:[],displayName:"MoveDemo"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["stories\\move\\index.js"]={name:"MoveDemo",docgenInfo:MoveDemo.__docgenInfo,path:"stories\\move\\index.js"}),Object(utils.a)("数据展示型组件",[{name:"Move",component:MoveDemo,doc:"# Carousel 走马灯组件\r\n\r\n支持 PC 和 Mobile 端\r\n\r\n## 引入方式\r\n```javascript\r\nimport { Carousel } from 'autobest-common-ui';\r\n```\r\n\r\n## 使用方式\r\n\r\n```javascript\r\nexport default class CarouselDemo extends React.Component {\r\n  onNext = () => {\r\n      this.carouselEl.next();\r\n    };\r\n    onPrev = () => {\r\n      this.carouselEl.prev();\r\n    };\r\n    render() {\r\n      return (\r\n        <div className=\"demo-carousel\">\r\n          <Carousel {...this.props} ref={el => (this.carouselEl = el)}>\r\n            <p style={{ backgroundColor: '#0fcc40' }}>1111113333333333331111</p>\r\n            <p style={{ backgroundColor: '#ccc' }}>222222</p>\r\n            <p style={{ backgroundColor: '#ccc422' }}>3333333</p>\r\n            <p style={{ backgroundColor: '#32a3cc' }}>4444444</p>\r\n            <p style={{ backgroundColor: '#cc2097' }}>55555555</p>\r\n          </Carousel>\r\n          <button onClick={this.onPrev}>prev</button>\r\n          <button onClick={this.onNext}>next</button>\r\n        </div>\r\n      );\r\n    }\r\n}\r\n```\r\n\r\n## 参数说明\r\n\r\n| 属性 | 必传  | 默认值 | 参数类型 | 用法说明 |\r\n| ------ | ------ | ------ | ------ | ------ |\r\n| defaultValue | 非 | 1 | number | 走马灯初始显示的索引值 |\r\n| width | 非 | 无 | 宽度 | 组件宽度， 可以不写，不写情况下，自动获取宽度 |\r\n| height | 非 | 无 | 高度 | 组件高度， 可以不写，不写情况下，自动获取高度 |\r\n| className | 非 | 无 | class样式名 | 该组件样式 |\r\n| autoplay | 非 | false | boolean | 用于控制是否自动播放 |\r\n| delay | 非 | 3000 | number（毫秒） | 自动播放的间隔时间 |\r\n| onBeforeChange | 非 | 无 | 切换前的回调函数 | 参数：（currentIndex) |\r\n| onAfterChange | 非 | 无 | 切换后的回调函数 | 参数：（currentIndex) |\r\n| pagination | 非 | 无 | React.ReactNode 或者 ((instance: React.ReactInstance) => React.ReactNode) | 分页按钮 |\r\n| controllable | 非 | true | boolean | 是否可以手动控制 只支持移动端 |\r\n| fadeEffect | 非 | false | boolean | 开启渐变， 默认是scroll-x |\r\n| sensitivity | 非 | 30 | number | 敏感值，设置多少后可以进行切换, 只有在 controllable = true时， 有作用|\r\n\r\n## 注意\r\n\r\n该组件更新比较多，具体看参数说明",inline:!1}])},394:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(module){__webpack_require__.d(__webpack_exports__,"a",(function(){return addNewStories}));__webpack_require__(36),__webpack_require__(33),__webpack_require__(37);var _storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(80),noop=function(){return null};function addNewStories(kind,stories){var currentModule=Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)(kind,module);stories.forEach((function(item){currentModule=currentModule.add(item.name,item.component?item.component:noop,{info:{text:item.doc,disable:!!item.disable,inline:!!item.inline,source:void 0!==item.source&&item.source}})}))}}).call(this,__webpack_require__(379)(module))},396:function(module,exports,__webpack_require__){__webpack_require__(397),__webpack_require__(540),__webpack_require__(541),module.exports=__webpack_require__(1211)},459:function(module,exports){},541:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(80),_storybook_addon_info__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(380),_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(68),_storybook_theming__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addDecorator)(_storybook_addon_info__WEBPACK_IMPORTED_MODULE_1__.withInfo),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addDecorator)(_storybook_addon_knobs__WEBPACK_IMPORTED_MODULE_2__.withKnobs),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addParameters)({options:{theme:_storybook_theming__WEBPACK_IMPORTED_MODULE_3__.themes.light,name:"ab-better-move",url:"/",title:"ab-better-move"},info:{header:!1,inline:!1,source:!0}})},718:function(module,exports,__webpack_require__){var map={"./nestedObjectAssign":343,"./nestedObjectAssign.js":343};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=718}},[[396,1,2]]]);
//# sourceMappingURL=main.cdb1511c7861a71a0462.bundle.js.map